<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VR Interactive Gallery</title>
  <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
  <script src="https://unpkg.com/aframe-environment-component@1.3.2/dist/aframe-environment-component.min.js"></script>
  <script>
    // Component for object interaction
    AFRAME.registerComponent('interactive-object', {
      schema: {
        name: {type: 'string', default: 'Object'},
        description: {type: 'string', default: 'An interactive object'}
      },
      init: function() {
        const el = this.el;
        const data = this.data;
        const originalScale = el.getAttribute('scale');
        
        // Create text label
        const label = document.createElement('a-entity');
        label.setAttribute('text', {
          value: data.name,
          align: 'center',
          width: 3,
          color: '#ffffff',
          shader: 'msdf',
          font: 'https://cdn.aframe.io/examples/ui/Viga-Regular.json'
        });
        label.setAttribute('position', '0 1.5 0');
        label.setAttribute('visible', false);
        label.classList.add('label');
        el.appendChild(label);
        
        // Hover/gaze interaction
        el.addEventListener('mouseenter', function() {
          el.setAttribute('scale', {
            x: originalScale.x * 1.2,
            y: originalScale.y * 1.2,
            z: originalScale.z * 1.2
          });
          label.setAttribute('visible', true);
        });
        
        el.addEventListener('mouseleave', function() {
          el.setAttribute('scale', originalScale);
          label.setAttribute('visible', false);
        });
        
        // Click interaction
        el.addEventListener('click', function() {
          // Create description panel
          const panel = document.getElementById('info-panel');
          const panelText = document.getElementById('panel-text');
          panelText.setAttribute('value', data.name + '\n\n' + data.description);
          panel.setAttribute('visible', true);
          
          // Hide panel after 4 seconds
          setTimeout(() => {
            panel.setAttribute('visible', false);
          }, 4000);
          
          // Color change animation
          const originalColor = el.getAttribute('material').color;
          el.setAttribute('animation', {
            property: 'material.color',
            from: '#ffffff',
            to: originalColor,
            dur: 1000,
            easing: 'easeInOutQuad'
          });
        });
      }
    });

    // Teleport component
    AFRAME.registerComponent('teleport-point', {
      schema: {
        target: {type: 'vec3', default: {x: 0, y: 0, z: 0}}
      },
      init: function() {
        const el = this.el;
        const data = this.data;
        const camera = document.querySelector('#camera');
        
        el.addEventListener('click', function() {
          // Animate camera movement
          camera.setAttribute('animation', {
            property: 'position',
            to: data.target,
            dur: 1000,
            easing: 'easeInOutQuad'
          });
        });
        
        el.addEventListener('mouseenter', function() {
          el.setAttribute('scale', '1.3 1.3 1.3');
        });
        
        el.addEventListener('mouseleave', function() {
          el.setAttribute('scale', '1 1 1');
        });
      }
    });
  </script>
</head>
<body>
  <a-scene>
    <!-- Camera with cursor -->
    <a-entity id="camera" camera position="0 1.6 5" look-controls wasd-controls>
      <a-cursor
        color="#4CC3D9"
        fuse="true"
        fuse-timeout="1500"
        raycaster="objects: .interactive, .teleport">
      </a-cursor>
    </a-entity>

    <!-- Lighting -->
    <a-light type="ambient" color="#BBB" intensity="0.8"></a-light>
    <a-light type="directional" color="#FFF" intensity="0.6" position="2 4 2"></a-light>
    <a-light type="point" color="#F4A460" intensity="1" position="0 3 -3"></a-light>

    <!-- Environment -->
    <a-sky color="#87CEEB"></a-sky>
    <a-plane position="0 0 0" rotation="-90 0 0" width="30" height="30" color="#7BC8A4" shadow="receive: true"></a-plane>
    
    <!-- Back wall -->
    <a-plane position="0 3 -8" rotation="0 0 0" width="30" height="6" color="#D4AF37" opacity="0.3"></a-plane>

    <!-- Interactive Object 1: Crystal Sphere -->
    <a-sphere 
      class="interactive"
      position="-3 1.5 -2" 
      radius="0.8" 
      color="#FF6B9D"
      metalness="0.8"
      roughness="0.2"
      shadow="cast: true"
      interactive-object="name: Crystal Sphere; description: A mystical orb that glows with inner energy. Legend says it holds ancient wisdom."
      animation="property: rotation; to: 0 360 0; loop: true; dur: 8000; easing: linear">
    </a-sphere>

    <!-- Interactive Object 2: Golden Pyramid -->
    <a-cone 
      class="interactive"
      position="0 1 -3" 
      radius-bottom="1" 
      radius-top="0"
      height="2"
      color="#FFD700"
      metalness="0.9"
      roughness="0.1"
      shadow="cast: true"
      rotation="0 0 0"
      interactive-object="name: Golden Pyramid; description: An ancient artifact from a lost civilization. Its geometric perfection is mesmerizing."
      animation="property: position; to: 0 1.3 -3; dir: alternate; loop: true; dur: 2000; easing: easeInOutSine">
    </a-cone>

    <!-- Interactive Object 3: Emerald Cube -->
    <a-box 
      class="interactive"
      position="3 1.2 -2" 
      width="1.5" 
      height="1.5" 
      depth="1.5"
      color="#50C878"
      metalness="0.7"
      roughness="0.3"
      shadow="cast: true"
      rotation="15 45 0"
      interactive-object="name: Emerald Cube; description: A perfectly carved cube of pure emerald. Its surfaces reflect light in captivating patterns."
      animation="property: rotation; to: 375 405 360; loop: true; dur: 10000; easing: linear">
    </a-box>

    <!-- Interactive Object 4: Ruby Torus -->
    <a-torus 
      class="interactive"
      position="1.5 2 1" 
      radius="0.8" 
      radius-tubular="0.2"
      color="#E0115F"
      metalness="0.85"
      roughness="0.15"
      shadow="cast: true"
      rotation="90 0 0"
      interactive-object="name: Ruby Torus; description: A ring of concentrated ruby energy. It hums with a mysterious frequency."
      animation="property: rotation; to: 90 360 0; loop: true; dur: 6000; easing: linear">
    </a-torus>

    <!-- Interactive Object 5: Sapphire Octahedron -->
    <a-octahedron 
      class="interactive"
      position="-2 1.8 1.5" 
      radius="0.9"
      color="#0F52BA"
      metalness="0.8"
      roughness="0.2"
      shadow="cast: true"
      interactive-object="name: Sapphire Octahedron; description: A dual pyramid of sapphire crystal. It seems to pulse with cosmic energy."
      animation="property: rotation; to: 360 360 0; loop: true; dur: 7000; easing: linear">
    </a-octahedron>

    <!-- Information Panel -->
    <a-entity id="info-panel" position="0 2.5 -1.5" visible="false">
      <a-plane width="3" height="2" color="#000000" opacity="0.8"></a-plane>
      <a-text 
        id="panel-text"
        position="0 0 0.01"
        width="2.8"
        align="center"
        color="#FFFFFF"
        wrap-count="30"
        value="">
      </a-text>
    </a-entity>

    <!-- Teleport Points -->
    <a-cylinder 
      class="teleport"
      position="-4 0.1 3" 
      radius="0.5" 
      height="0.2" 
      color="#4CC3D9"
      opacity="0.7"
      teleport-point="target: -4 1.6 3">
      <a-text value="Teleport 1" align="center" position="0 0.5 0" width="3" color="#FFFFFF"></a-text>
    </a-cylinder>

    <a-cylinder 
      class="teleport"
      position="4 0.1 3" 
      radius="0.5" 
      height="0.2" 
      color="#4CC3D9"
      opacity="0.7"
      teleport-point="target: 4 1.6 3">
      <a-text value="Teleport 2" align="center" position="0 0.5 0" width="3" color="#FFFFFF"></a-text>
    </a-cylinder>

    <a-cylinder 
      class="teleport"
      position="0 0.1 -6" 
      radius="0.5" 
      height="0.2" 
      color="#4CC3D9"
      opacity="0.7"
      teleport-point="target: 0 1.6 -6">
      <a-text value="Teleport 3" align="center" position="0 0.5 0" width="3" color="#FFFFFF"></a-text>
    </a-cylinder>

    <a-cylinder 
      class="teleport"
      position="0 0.1 5" 
      radius="0.5" 
      height="0.2" 
      color="#4CC3D9"
      opacity="0.7"
      teleport-point="target: 0 1.6 5">
      <a-text value="Start" align="center" position="0 0.5 0" width="3" color="#FFFFFF"></a-text>
    </a-cylinder>

    <!-- Decorative elements -->
    <a-entity position="0 5 -8">
      <a-text value="VR INTERACTIVE GALLERY" align="center" width="12" color="#FFD700"></a-text>
    </a-entity>

  </a-scene>
</body>
</html>